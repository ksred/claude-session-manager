# API Documentation

This directory contains the Swagger/OpenAPI documentation for the Claude Session Manager API.

## Files

- `docs.go` - Generated Go code containing the Swagger specification (auto-generated by swag)
- `swagger.json` - OpenAPI 3.0 specification in JSON format (auto-generated by swag)
- `swagger.yaml` - OpenAPI 3.0 specification in YAML format (auto-generated by swag)

## Accessing the Documentation

When the server is running, you can access the interactive Swagger UI at:

```
http://localhost:8080/docs/
```

## Regenerating Documentation

The documentation is automatically generated when building the application. To manually regenerate:

```bash
make swagger
```

Or install the swag CLI tool and run:

```bash
go install github.com/swaggo/swag/cmd/swag@latest
swag init -g ./cmd/main.go -o ./docs
```

## API Overview

The Claude Session Manager API provides the following endpoint groups:

### Health
- `GET /api/v1/health` - Health check endpoint

### Sessions
- `GET /api/v1/sessions` - Get all sessions
- `GET /api/v1/sessions/{id}` - Get session by ID
- `GET /api/v1/sessions/active` - Get active sessions
- `GET /api/v1/sessions/recent` - Get recent sessions with optional limit

### Metrics
- `GET /api/v1/metrics/summary` - Get overall metrics summary
- `GET /api/v1/metrics/activity` - Get activity timeline
- `GET /api/v1/metrics/usage` - Get usage statistics

### Search
- `GET /api/v1/search` - Search sessions by query

### WebSocket
- `GET /api/v1/ws` - WebSocket endpoint for real-time updates

## Response Models

The API uses comprehensive response models with detailed type information and examples. All endpoints return JSON responses with consistent error handling.

## Real-time Updates

The WebSocket endpoint (`/api/v1/ws`) provides real-time updates for:
- New sessions created
- Session updates
- Session deletions
- System-wide session changes

## Authentication

Currently, the API does not require authentication, but the Swagger specification includes security definitions that can be enabled in the future.